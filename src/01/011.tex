\section{Linear Sets, Affine Sets, Convex Sets, Cone Sets}
\label{sect:011}

\paragraph{}Fix an nonempty set $X\subset \mathbb{R}^m$. Consider all linear combinations of elements in $X$:

\[
	\left\{\sum_{i=1}^k \alpha_i x_i,\; \left\{ x_i \right\}_{i=1}^k \subset X, \left\{\alpha_i\right\}_{i=1}^k\subset \mathbb{R}\right\}
\]

\paragraph{}The set of all such combinations is the linear subspace $\operatorname{lin}(X)\subset \mathbb{R}^n$ spanned by $X$; this is the smallest linear subspace containing $X$. If it turns out that $X=\operatorname{lin}(X)$ - that is, $X$ is closed under taking $\operatorname{lin}$ - then $X$ is itself a linear subspace.

\paragraph{}By adding additional constraints to the coefficients $\alpha_i$, besides linear subspaces, we can then define the notion of affine sets, convex sets, and cones. We will define different types of constrained linear combinations, then define what it means to be affine, convex, cone.

\begin{defn}[Combinations]\label{defn:011-comb}
	Let $\{\alpha_i\}_{i=1}^k\subset \mathbb{R}$. We say that $\sum_{i=1}^k \alpha_i x_i$ is a:
	\begin{itemize}
		\item Linear combination of $\{ x_i \}_{i=1}^k$
		\item Non-negative combination of $\{ x_i \}_{i=1}^k$ if $\{\alpha_i\}_{i=1}^k\subset \mathbb{R}_+$
		\item Affine combination of $\{ x_i \}_{i=1}^k$ if $\sum_{i=1}^k \alpha_i=1$
		\item Convex combination of $\{ x_i \}_{i=1}^k$ if it is both an affine combination and a non-negative combination.
		\item Non-negative rescaling of $\{ x_i \}_{i=1}^k$ if it is a non-negative combination and $m=1$.
	\end{itemize}
\end{defn}

\begin{defn}[Linear Hull, Affine Hull, Convex Hull, Cones, Convex Cones]\label{defn:011-hull}
	We write $\operatorname{lin}(X)$ (resp. $\operatorname{aff}(X)$, $\operatorname{conv}(X)$, $\operatorname{cone}(X)$, $\operatorname{c.conv}(X)$) as the set of linear (resp. affine, convex, non-negative rescaling, non-negative) combinations of elements in $X$. We say that $X$ is linear (resp. affine, convex, cone, convex cone) if $X=\operatorname{lin}(X)$ (resp. $\operatorname{aff}(X)$, $\operatorname{conv}(X)$, $\operatorname{cone}(X)$, $\operatorname{c.conv}(X)$).
\end{defn}

\paragraph{}One can show that $\operatorname{lin}(X)$ is linear, and is the smallest linear set containing $X$. Analogous statements holds for $\operatorname{aff,conv,cone,c.cone}$.

\paragraph{}Affine sets are not far from being linear - if $X$ is affine, then $X-x$ is linear for any $x\in X$, and that this set is independent of the choice of $x\in X$. From this, we define the dimension of a convex set as follows.

\begin{defn}[Dimension]\label{defn:011-dim}
	Suppose $X$ is convex. Let $Y:=\operatorname{aff}(X)$, we define $\dim(X)=\operatorname{dim}(Y-Y)$.
\end{defn}

\paragraph{}The construction of $\operatorname{lin}(X),\operatorname{aff}(X),\operatorname{conv}(X),\operatorname{c.conv}(X)$ in \Cref{defn:011-hull} requires certain combinations of indefinite amount of elements in $X$ as in \Cref{defn:011-comb}. However, verifying that $X$ is linear, affine, convex, convex cone only requires considering combinations of two elements in $X$. We state it as follows.

\begin{prop}\label{prop:011-bi}
	The set $X$ is linear (resp. affine, convex, convex cone) iff any linear (resp. affine, convex, non-negative) combination of $2$ elements in $X$ is in $X$.
\end{prop}

\begin{proof}
	Use induction; the proof is left to the readers.
\end{proof}

\paragraph{}The following is a dirty notation for quickly constructing sets from two subsets.

\begin{defn}[$I(X,Y;Z)$]\label{defn:011-I}
	Let $X,Y$ be subsets of $\mathbb{R}^m$, $Z$ a subset of $\mathbb{R}$. We define:
	\[
		I(X,Y;Z)=\{(1-\alpha)x+\alpha y:(x,y,\alpha)\in X\times Y\times Z\}
	\]
	Sometimes, we abuse notation and do not distinguish between elements of $\mathbb{R}^m,\mathbb{R}$ and subsets.
\end{defn}

\begin{exmp}\label{defn:011-I-exmpl}
	Suppose $X,Y$ are one-point sets with elements $x, y$.
	\begin{itemize}
		\item If $C=0$ (resp. $1$), we get $I(x,y;C)=x$ (resp. $y$).
		\item If $C=[0,1]$, we get $I(x,y;C)$ the line segment connecting $x, y$.
		\item If $C=\mathbb{R}$, we get $I(x,y;C)$ the whole line connecting $x, y$.
	\end{itemize}
\end{exmp}

\paragraph{}The following is a restatement of \Cref{prop:011-bi} using \Cref{defn:011-I} in the case of affine, convex sets.

\begin{prop}[Alternative Definition of Convex, Affine sets]The set $X$ is affine (resp. convex) iff $I(X,X;\mathbb{R}_{+})=I(X,X;\mathbb{R})=X$ (resp. $I(X,X;[0,1])=X$).
\end{prop}

\paragraph{}Basic facts about convex sets are given in the following proposition.

\begin{prop}[Yoga of Convex Sets]\label{prop:011-conv-yoga}
	Convex sets are closed under various operations:
	\begin{enumerate}[label=(\alph*)]
		\item (Intersection) For convex sets $\{C_i\}_{i\in I}$ in $\mathbb{R}^m$, $\bigcap_iC_i$ is convex.
		\item (Union of Ascending Chain) For convex sets $\{C_i\}_{i}$ in $\mathbb{R}^m$ with $C_1\subset C_2\subset\dotsc$, $\bigcup_iC_i$ convex.
		\item (Product) For convex sets $\{C_i\}_{i=1}^k$ with $C_i\subset \mathbb{R}^{m_i}$, $\bigtimes_{i=1}^kC_i$ is convex.
		\item (Non-negative Combination) For convex sets $\{C_i\}_{i=1}^k$ in $\mathbb{R}^m$ and $\{\alpha_i\}_{i=1}^k\subset \mathbb{R}_{+}$, $\sum_{i=1}^k\alpha_iC_i$ convex.
		\item (Closure and Interior) For convex set $C$ in $\mathbb{R}^m$, $\operatorname{cl}(C),\operatorname{int}(C)$ convex.
		\item (Direct Image) For convex set $C\subset \mathbb{R}^m$ and affine $A:\mathbb{R}^m\to \mathbb{R}^n$, $A(C)$ convex.
		\item (Inverse Image) For convex set $C\subset \mathbb{R}^m$ and affine $A:\mathbb{R}^l\to \mathbb{R}^m$, $A^{-1}(C)$ convex.
		\item (Slice and Fibers) For convex set $C\subset \mathbb{R}^m$ and $(x,y)\in \mathbb{R}^l\times \mathbb{R}^{m-l}$, $C_{x,:},C_{:,y}$ convex.
	\end{enumerate}
\end{prop}
\begin{proof}For (a), let $C=\bigcap_iC_i$, then $I(C,C;[0,1])\subset I(C_i,C_i;[0,1])=C_i$ for $i\in I$, giving (a).\\
	For (b), let $C=\bigcup_iC_i$. We have: $I(C,C;[0,1])\subset \bigcup_iI(C_i,C_i;[0,1])=\bigcup_iC_i=C$.\\
	For (c), we have $I(\bigtimes_{i=1}^kC_i,\bigtimes_{i=1}^kC_i,[0,1])\subset \bigtimes_{i=1}^kI(C_i,C_i,[0,1])=\bigtimes_{i=1}^kC_i$.\\
	For (d), it suffices to show the cases $(\alpha_i)_{i=1}^k=(1,1)$ or $(\lambda)$ where $\lambda \geq 0$. We have:
	\[
		I(C_1+C_2,C_1+C_2;[0,1])\subset I(C_1,C_1;[0,1])+I(C_2,C_2;[0,1])=C_1+C_2
	\]
	\[
		I(\lambda C,\lambda C,[0,1])=\lambda I(C,C,[0,1])=\lambda C
	\]
	For (e), to show interior is convex, take $x,y\in \operatorname{int}(C)$ and $\varepsilon>0$ with $B(\{x, y\};\varepsilon)\subset C$, we have:
	\[
		I(x, y;[0, 1])\subset B(I(x, y;[0, 1]);\varepsilon)\subset I(B(x;\varepsilon),B(y;\varepsilon); [0, 1])\subset C
	\]
	To show closure is convex, take $\{x_i\}_{i=1}^\infty,\{y_i\}_{i=1}^\infty\subset C$ approximating $x,y\in \operatorname{cl}(C)$, then we have:
	\[
		I(x,y;[0,1])\subset \operatorname{cl}\left(\bigcup_{i}I(x_i,y_i;[0,1])\right)\subset \operatorname{cl}(C)
	\]
	For (f), to show image under affine is convex:
	\[
		I(A(C),A(C);[0,1])=A(I(C,C;[0,1]))=A(C)
	\]
	For (g), to show preimage under affine is convex:
	\[
		A\left(I\left(A^{-1}(C),A^{-1}(C);[0,1]\right)\right)=I\left(AA^{-1}(C),AA^{-1}(C);[0,1]\right)\subset I(C,C;[0,1])=C
	\]
	which shows $I(A^{-1}(C),A^{-1}(C);[0,1])\subset A^{-1}(C)$. For (h), use (a), (c) and (f).
\end{proof}

\begin{rmrk}
	For (e), once we define relative interiors in \Cref{sect:012}, we will see that $\operatorname{rint}(C)$ is convex. Relative interiors and closures are more natural to work with in the context of convex analysis; we will see this later.
\end{rmrk}

\paragraph{}The following is useful for controlling representations of elements in $\operatorname{conv}(X),\operatorname{c.cone}(X)$. A nice application is given in \Cref{coro:011-cara-conv}.

\begin{prop}[Caratheodory]\label{prop:011-cara}
	Consider elements in $\operatorname{c.conv}(X),\operatorname{conv}(X)$:
	\begin{enumerate}[label=(\alph*)]
		\item Every vector in $\operatorname{c.cone}(X)$ is a non-negative combination of linear independent vectors in $X$.
		\item Every vector in $\operatorname{conv}(X)$ is a convex combination of no more than $m+1$ vectors in $X$.
	\end{enumerate}
\end{prop}

\begin{proof}[Proof of (a)]
	Take $0\neq x=\sum_{i=1}^k\alpha_ix_i$, a positive combination of elements in $X$. If $\{x_i\}_{i=1}^k$ are linearly independent, then one can represent $x$ as a positive combination of fewer elements in $X$ by subtracting $\sum_{i=1}^k \alpha_ix_i$ by a linear relation among $x_i$. This process cannot continue indefinitely, so we are done.
\end{proof}

\begin{proof}[Proof of (b)]
	Take $x\in \operatorname{conv}(X)$. Apply (a) to $Y=X\times\{1\}\subset \mathbb{R}^{m+1}$, then we can express $(x,1)$:
	\[
		(x,1) = \sum_{i=1}^k \alpha_i (x_i,1)= \left(\sum_{i=1}^k \alpha_i x_i, \sum_{i=1}^k\alpha_i \right)
	\]
	as a positive combination of $k$ linearly independent vectors (hence $k\leq n + 1$).
\end{proof}

\begin{coro}\label{coro:011-cara-conv}
	The convex hull of a compact set is compact.
\end{coro}

\begin{proof}
	For a sequence of convex combinations $\{z_k\}_k=\left\{\sum_{i=1}^{n+1}\alpha_i^kx_i^k\right\}_k$ of elements in $X$, the sequence:
	\[\left\{(\alpha_1^k,\dotsc,\alpha_{n+1}^k,x_1^k,\dotsc,x_{n+1}^k)\right\}_k\subset \mathbb{R}^{n+1}\times X^{n+1}\]
	is bounded; take a limit point $(\alpha_1,\dotsc,\alpha_{n+1},x_1,\dotsc,x_{n+1})$, then consider $\sum_{i=1}^{n+1} \alpha_ix_i$.
\end{proof}

% \begin{exmp}[Half spaces]
% 	Given $(a_j)_{j=1}^N\subset \mathbb{R}^n,(b_j)_{j=1}^N\subset \mathbb{R}$, the space $\{x:a_j^Tx\leq b_j\}$ is convex.
% \end{exmp}
